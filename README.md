# 📘 مقدمة

**ForensiTrain** هي أداة ويب مفتوحة المصدر تهدف إلى تحليل أرقام الهواتف باستخدام تقنيات OSINT. تجمع الأداة بيانات عامة من عدة مصادر وتعرضها للمستخدم عبر واجهة تفاعلية مبنية بـReact وFastAPI. تناسب الباحثين والمحققين والطلبة وكل من يهتم بتحليل الأرقام.

## 🚀 المميزات

- **تحليل رقم الهاتف** باستخدام مكتبة `phonenumbers`.
- **ربط الحسابات الاجتماعية** عبر أداة [Maigret](https://github.com/soxoj/maigret).
- **فحص التسريبات الأمنية** عبر مصادر مفتوحة مثل [scylla.sh](https://scylla.sh) و[dehashed](https://www.dehashed.com) (قراءة فقط).
- **محرك ذكي يعيد استخدام الإيميلات وأسماء المستخدمين لاكتشاف علاقات جديدة.**
- **تسجيل استعلامات المستخدم** في مجلد `logs/`.
- **واجهة تفاعلية** مبنية بـReact وTailwindCSS.
- **تصدير التقارير** بصيغة JSON أو PDF.
- **دعم واجهة عربية/إنجليزية مع وضع ليلي.**
- **إمكانية التشغيل بدون Docker** عبر سكربت `forensitrain_start.sh`.
- **نقطة `/api/phone/enrich`** توفر نتيجة موحّدة مع درجة ثقة.

## ⚙️ المتطلبات البرمجية

- Python 3.10 أو أحدث.
- Node.js 18 أو أحدث.
- الحزم الموجودة في `backend/requirements.txt` و`frontend/package.json`.
- تثبيت أداة Maigret بشكل مستقل.
- إعداد ملفات `.env` للواجهة والخلفية.

## 🛠️ خطوات التشغيل المحلية

```bash
# 1. تشغيل الخادم الخلفي
cd backend
python -m venv venv
source venv/bin/activate
pip install -r requirements.txt
# عدل ملف backend/.env وأضف مفاتيحك هنا
uvicorn app.main:app --host 0.0.0.0 --port 8000 --reload
```

```bash
# 2. تشغيل الواجهة الأمامية
cd frontend
npm install
# عدل ملف frontend/.env إذا لزم
npm run dev
```

أو ببساطة استخدم السكربت الموحد:

```bash
./forensitrain_start.sh
```

## 🧪 دليل الاختبار اليدوي

1. بعد تشغيل الخدمتين افتح المتصفح على `http://localhost:5173`.
2. جرّب رقمًا مثل `+12024561111` وتأكد من ظهور بيانات الدولة والناقل والحسابات المرتبطة والتسريبات.
3. في حال إدخال رقم غير صالح ستظهر رسالة خطأ.
4. يتم تخزين كل استعلام في `logs/queries.log` ويمكن مراجعتها لاحقًا.

## 📁 ملفات التكوين والمفاتيح

```bash
# frontend/.env
VITE_API_BASE=http://localhost:8000/api
```

كل متغير بيئي خاص بمصدر بيانات خارجي، ولا يجب مشاركة هذه المفاتيح علنًا.

## 🗃️ هيكل المجلدات الأساسية

```text
forensitrain/
├── backend/       # كود FastAPI والخدمات
├── frontend/      # تطبيق React
├── deploy/        # سكربتات النشر وشهادة TLS
├── logs/          # سجلات الاستعلامات
└── forensitrain_start.sh
```

## 🛡️ الملاحظات الأمنية والأخلاقية

هذه الأداة مخصصة للأغراض القانونية والتعليمية فقط. يتحمل المستخدم كامل المسؤولية عند تشغيلها، ويجب الالتزام بالقوانين المحلية وشروط استخدام واجهات البرمجة. يُحظر مشاركة ملفات `.env` أو مفاتيح الوصول مع أي طرف آخر.

## 📌 معلومات إضافية

- للمساهمة في المشروع يرجى فتح طلب دمج (Pull Request) بعد مراجعة الكود.
- يتم إصدار النسخ النهائية عبر وضع علامة (git tag) للإصدار داخل `CHANGELOG.md`.
- لمزيد من المعلومات حول Maigret راجع [مستودع المشروع](https://github.com/soxoj/maigret) وللتعرف على مكتبة `phonenumbers` اطلع على [التوثيق الرسمي](https://github.com/daviddrysdale/python-phonenumbers).

