# ForensiTrain

## \U0001F4D8 نبذة عن المشروع
**ForensiTrain** هي أداة ويب مفتوحة المصدر تهدف إلى تحليل أرقام الهواتف باستخدام تقنيات OSINT (الاستخبارات مفتوحة المصدر).
تساعد الأداة الباحثين والمحترفين في الأمن الرقمي على جمع معلومات سريعة حول رقم هاتف مثل الدولة وشركة الاتصالات والحسابات الاجتماعية المرتبطة به.

## \U0001F527 الوظائف الأساسية
- **تحليل الرقم**: تحديد الدولة، شركة الاتصالات، وصلاحية تنسيق الرقم.
- **اكتشاف الحسابات الاجتماعية** عبر أداة Maigret للوصول إلى روابط الحسابات المحتملة.
- **فحص التسريبات الأمنية** بالاعتماد على واجهة HaveIBeenPwned عند توفير المفتاح المناسب.
- **تسجيل السجلات** لجميع الاستعلامات في ملف `logs/queries.log`.
- **واجهة تفاعلية** مبنية ب React وVite.
- **بيئة تشغيل محلية** بدون الحاجة إلى Docker.

## \u2699\ufe0f متطلبات التشغيل
- Python 3.10 أو أحدث
- Node.js 18 أو أحدث
- تثبيت أداة Maigret (باستخدام `pip install maigret`)
- إنشاء ملف `.env` في كل من `backend/` و `frontend/` انطلاقاً من ملفات \*.env.example.

## \U0001F680 طريقة التشغيل (محلياً)
### تشغيل الخادم الخلفي (FastAPI)
1. الانتقال إلى مجلد `backend` وإنشاء بيئة افتراضية:
   ```bash
   cd backend
   python -m venv venv
   source venv/bin/activate
   ```
2. تثبيت المتطلبات:
   ```bash
   pip install -r requirements.txt
   ```
3. نسخ `.env.example` إلى `.env` وإضافة المفاتيح اللازمة (`HIBP_API_KEY` و`NUMVERIFY_API_KEY`).
4. تشغيل الخادم:
   ```bash
   uvicorn app.main:app --host 0.0.0.0 --port 8000 --reload
   ```

### تشغيل الواجهة الأمامية (React + Vite)
1. في نافذة طرفية جديدة:
   ```bash
   cd frontend
   npm install
   npm run dev
   ```
2. يمكن تخصيص عنوان الـ API بإنشاء ملف `.env` داخل `frontend/` يحتوي المتغير `VITE_API_BASE`.

### تشغيل السكربت الموحد
لتشغيل الواجهة والخلفية معاً قم بتشغيل:
```bash
./forensitrain_start.sh
```
يقوم السكربت بإنشاء البيئة الافتراضية وتثبيت الحزم ثم تشغيل الخوادم بشكل متزامن.

## \U0001F4C1 ملفات التكوين
- يعتمد الخادم الخلفي على متغيرات مثل:
  - `HIBP_API_KEY`: مفتاح خدمة HaveIBeenPwned.
  - `NUMVERIFY_API_KEY`: مفتاح خدمة Numverify.
- في الواجهة الأمامية يوجد المتغير `VITE_API_BASE` لتحديد عنوان الـ API.

## \U0001F9EA خطوات اختبار يدوية
1. بعد تشغيل `forensitrain_start.sh` افتح المتصفح على `http://localhost:5173`.
2. جرب رقماً مثل `+12024561111` وتأكد من ظهور البيانات والروابط.
3. راقب ملف `logs/queries.log` للتأكد من تسجيل الاستعلام.

## \U0001F4DD ملفات السجل والمهام
- كل استعلام يُسجل في `logs/queries.log` مع التاريخ والحالة.
- يتم حفظ مخرجات Maigret مؤقتاً في `logs/maigret_<number>.json` قبل معالجتها وحذفها.
- أي بيانات إضافية تُخزن داخل مجلد `logs/` عند تشغيل الأداة.

## \u26a0\ufe0f ملاحظات أمنية وأخلاقية
- الأداة مخصصة للاستخدام القانوني فقط ولا يجب إساءة توظيفها.
- تذكر أن البيانات المستخلصة من مصادر عامة ويجب احترام خصوصية الآخرين.
- احرص على حماية المفاتيح المخزنة في ملفات `.env` وعدم مشاركتها علناً.

